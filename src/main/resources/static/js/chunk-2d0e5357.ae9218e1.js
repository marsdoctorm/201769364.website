(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5357"],{9406:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("h2",[t._v("Comment list")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",prop:"id",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),n("el-table-column",{attrs:{label:"Comment"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.content)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"Time",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{staticClass:"el-icon-time"}),n("span",[t._v(t._s(e.row.time))])]}}])}),n("el-table-column",{attrs:{label:"operation",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text"},on:{click:function(n){return t.deleteItem(e.row)}}},[t._v("delete")])]}}])})],1),n("el-pagination",{staticStyle:{"text-align":"right","margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next",total:t.total}})],1)},i=[],l=n("b775");function o(t){return Object(l["a"])({url:"/comment/page",method:"get",params:t})}function r(t){return Object(l["a"])({url:"/comment/delete",method:"post",data:t})}n("83d6");var s={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{list:[],listLoading:!0,total:0,pageIndex:1}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e={pageIndex:this.pageIndex,pageSize:10};this.listLoading=!0,o(e).then((function(e){t.list=e.data.records,t.listLoading=!1})).catch((function(e){t.listLoading=!1}))},deleteItem:function(t){var e=this;console.log(t);var n={ids:[t.id]};r(n).then((function(t){e.$message({message:"OK",type:"success"}),e.fetchData()})).catch((function(t){e.$message({message:"Fail",type:"error"})}))}}},c=s,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null);e["default"]=d.exports}}]);